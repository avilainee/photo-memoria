"use strict";(globalThis["webpackChunkphotobooth_project"]=globalThis["webpackChunkphotobooth_project"]||[]).push([[738],{5738:(e,a,l)=>{l.r(a),l.d(a,{default:()=>f});var t=l(1347),c=l(4187),s=l(455),r=l(8636),o=l.n(r);const n={class:"flex flex-center"},i={class:"capture-card bg-white"},u={class:"pic-grid"},p=["src"],d={class:"flex flex-center"},g={__name:"DownloadPage",setup(e){const a=(0,s.lq)(),l=(0,c.KR)([]),r=(0,c.KR)(null);(0,t.sV)((()=>{a.query.images&&(l.value=JSON.parse(a.query.images))}));const g=async()=>{if(r.value)try{const e=await o()(r.value,{scale:3}),a=document.createElement("a");a.href=e.toDataURL("image/jpeg",.95),a.download="captured-images.jpg",a.click()}catch(e){console.error("Error capturing pic:",e)}};return(e,a)=>{const c=(0,t.g2)("q-btn"),s=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(s,{class:"column justify-center"},{default:(0,t.k6)((()=>[a[0]||(a[0]=(0,t.Lk)("div",{class:"blurred-bg"},null,-1)),(0,t.Lk)("div",n,[(0,t.Lk)("div",{ref_key:"captureArea",ref:r},[(0,t.Lk)("div",i,[(0,t.Lk)("div",u,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.value,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"pic-item",style:{height:"120px"}},[e?((0,t.uX)(),(0,t.CE)("img",{key:0,src:e,class:"pic-container mirrored",style:{height:"inherit"}},null,8,p)):(0,t.Q3)("",!0)])))),128))])])],512)]),(0,t.Lk)("div",d,[(0,t.bF)(c,{color:"dark",label:"Return to Capture",class:"q-mx-lg q-mt-md",size:"lg","no-caps":"",to:{path:"/capture"}}),(0,t.bF)(c,{color:"amber-10",label:"Download as JPG",class:"q-mx-lg q-mt-md",size:"lg",unelevated:"","no-caps":"",onClick:g})])])),_:1})}}};var m=l(5013),h=l(3211),k=l(272),b=l.n(k);const v=g,f=v;b()(g,"components",{QPage:m.A,QBtn:h.A})}}]);